(this.webpackJsonpbklog=this.webpackJsonpbklog||[]).push([[0],{29:function(e){e.exports=JSON.parse('{"a":{"id":"3972ca30-dd4f-480c-b96a-eb7ef9a92380","userId":"admin","blocks":[{"id":"d5cc2725-97ec-494b-bc80-c16f96379e61","type":"title","parentBlockId":null,"preBlockId":null,"nextBlockId":"d5cc2725-97ec-494b-bc80-c16f96379e11","property":{"type":"bk-title","styles":{"color":"black","backgroudColor":"white"},"contents":[["\ube14\ub85d 1\uc785\ub2c8\ub2e4."],["\uc800",[["b"],["fc","#c0f"],["bc","#000"],["i"],["a","https://www.naver.com"]]],["\ub294 ",[["i"]]],["\ud669\uc900\ud76c    ",[["b"],["_"]]],[" \uc785\ub2c8\ub2e4.",[["fc","#f00"]]]]},"children":[]},{"id":"d5cc2725-97ec-494b-bc80-c16f96379e11","type":"text","parentBlockId":null,"preBlockId":"d5cc2725-97ec-494b-bc80-c16f96379e61","nextBlockId":"c7ce6d39-bf2a-4712-9318-d2313a917a62","property":{"type":"bk-h1","styles":{"color":"black","backgroudColor":"white"},"contents":[]},"children":[]},{"id":"c7ce6d39-bf2a-4712-9318-d2313a917a62","type":"container","parentBlockId":null,"preBlockId":"d5cc2725-97ec-494b-bc80-c16f96379e11","nextBlockId":"s5cc2725-97ec-494b-bc80-c16f96379e61","property":null,"children":["a85758ba-bbb5-45e1-aaa0-e3395e0dfd78","3723c55f-66f0-4ad0-b796-0dbcd8d82ce8","2453d55f-66f0-4ad0-b796-0dbcd8d82ce8"]},{"id":"a85758ba-bbb5-45e1-aaa0-e3395e0dfd78","type":"text","parentBlockId":"c7ce6d39-bf2a-4712-9318-d2313a917a62","preBlockId":null,"nextBlockId":"3723c55f-66f0-4ad0-b796-0dbcd8d82ce8","property":{"type":"bk-h1","styles":{"color":"black","backgroudColor":"white"},"contents":[["\ube14\ub85d "],["2 \uc785",[["b"]]],["\ub2c8\ub2e4."]]},"children":[]},{"id":"3723c55f-66f0-4ad0-b796-0dbcd8d82ce8","type":"text","parentBlockId":"c7ce6d39-bf2a-4712-9318-d2313a917a62","preBlockId":"a85758ba-bbb5-45e1-aaa0-e3395e0dfd78","nextBlockId":"2453d55f-66f0-4ad0-b796-0dbcd8d82ce8","property":{"type":"bk-h1","styles":{"color":"black","backgroudColor":"white"},"contents":[["\ube14\ub85d"],["3 ",[["b"],["i"],["fc","#fc0"]]],["\uc785 ",[["i"]]],["\ub2c8\ub2e4."]]},"children":["4453c55f-66f0-4ad0-b796-0dbcd8d82ce8"]},{"id":"4453c55f-66f0-4ad0-b796-0dbcd8d82ce8","type":"text","parentBlockId":"3723c55f-66f0-4ad0-b796-0dbcd8d82ce8","preBlockId":null,"nextBlockId":null,"property":{"type":"bk-h1","styles":{"color":"black","backgroudColor":"white"},"contents":[["\ube14\ub85d"],["3 ",[["b"],["i"],["fc","#fc0"]]],["\uc785 ",[["i"]]],["\ub2c8\ub2e4."]]},"children":[]},{"id":"2453d55f-66f0-4ad0-b796-0dbcd8d82ce8","type":"text","parentBlockId":"c7ce6d39-bf2a-4712-9318-d2313a917a62","preBlockId":"3723c55f-66f0-4ad0-b796-0dbcd8d82ce8","nextBlockId":null,"property":{"type":"bk-h1","styles":{"color":"black","backgroudColor":"white"},"contents":[["\ube14\ub85d"],["4 ",[["b"],["i"],["fc","#fc0"]]],["\uc785 ",[["i"]]],["\ub2c8\ub2e4."]]},"children":[]},{"id":"s5cc2725-97ec-494b-bc80-c16f96379e61","type":"text","parentBlockId":null,"preBlockId":"c7ce6d39-bf2a-4712-9318-d2313a917a62","nextBlockId":null,"property":{"type":"bk-h1","styles":{"color":"black","backgroudColor":"white"},"contents":[["\ube14\ub85d 1\uc785\ub2c8\ub2e4."],["\uc800",[["b"],["fc","#c0f"],["bc","#000"],["i"],["a","https://www.naver.com"]]],["\ub294 ",[["i"]]],["\ud669\uc900\ud76c",[["b"]]],[" \uc785\ub2c8\ub2e4.",[["fc","#f00"]]]]},"children":[]}]}}')},50:function(e,t,n){e.exports=n(85)},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(26),l=n.n(c),o=n(11),s=n(8),i=n(6),u=n(10),d=n.n(u),p=n(4),f=n.n(p),b=n(13),g=n(12),m=n(47),k=n.n(m),h="http://localhost:4500/v2";function v(){return(v=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k()(Object.assign({baseURL:h,responseType:"json"},t));case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{success:!1,error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var y={baseFetch:function(e){return v.apply(this,arguments)}}.baseFetch;function x(){return(x=Object(b.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({method:"post",url:"/auth/".concat(t),withCredentials:!0,data:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({method:"get",url:"auth/".concat(t),withCredentials:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I={authFetchPost:function(e,t){return x.apply(this,arguments)},authFetchGet:function(e){return E.apply(this,arguments)}},O={signUpUser:function(e){return{type:N,payload:e}},signUpUserSuccess:function(){return{type:B}},signUpUserError:function(e){return{type:w,payload:{error:e}}},signInUser:function(e){return{type:j,payload:e}},signInUserError:function(e){return{type:S,payload:e}},signInUserSuccess:function(e){return{type:C,payload:e}},signOutUser:function(){return{type:T}},signOutUserError:function(){return{type:_}},signOutUserSuccess:function(){return{type:U}},reSignInUser:function(){return{type:R}},reSignInUserError:function(e){return{type:A,payload:e}},reSignInUserSuccess:function(e){return{type:D,payload:e}},reissueToken:function(){return{type:L}},reissueTokenError:function(e){return{type:M,payload:e}},resetAuth:function(){return{type:P}}},N="auth/SIGN_UP_USER",B="auth/SIGN_UP_USER_SUCCESS",w="auth/SIGN_UP_USER_ERROR",j="auth/SIGN_IN_USER",C="auth/SIGN_IN_USER_SUCCESS",S="auth/SIGN_IN_USER_ERROR",T="auth/SIGN_OUT_USER",U="auth/SIGN_OUT_USER_SUCCESS",_="auth/SIGN_OUT_USER_ERROR",R="auth/RESIGN_IN_USER",D="auth/RESIGN_IN_USER_SUCCESS",A="auth/RESIGN_IN_USER_ERROR",L="REISSUETOKEN",M="REISSUETOKEN_ERROR",P="auth/RESET_AUTH",G=O.signUpUser,V=O.signInUser,H=O.signOutUser,K=O.reSignInUser,F=O.reissueToken,J=I.authFetchPost,X=I.authFetchGet;var Y=function(){var e=Object(g.c)((function(e){return e.auth})),t=Object(g.b)(),n=Object(a.useCallback)((function(e){return t(G(e))}),[t]),r=Object(a.useCallback)((function(e){return t(V(e))}),[t]),c=Object(a.useCallback)((function(){return t(K())}),[t]),l=Object(a.useCallback)((function(){return t(H())}),[t]),o=Object(a.useCallback)((function(){return t(F())}),[t]),s=function(){var t=Object(b.a)(f.a.mark((function t(){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.authFetchGet("check-token");case 2:n=t.sent,console.log(n),a=n.data?n.data:null,!!n.data&&n.data.success?e.user?e.user.userId!==a.userId&&l():c():e.user&&o();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{authState:e,onSignUpUser:n,onSignInUser:r,onReSignInUser:c,onSignOutUser:l,onReissueToken:o,onCheckToken:s}},z=n(19),q=n(18);var W=function(e){var t=e.boxClass,n=e.labelClass,a=e.onChange,c=e.value,l=e.placeholder,o=e.label,s=e.className,i=e.type,u=e.name,d=e.id,p=e.autoComplete,f=e.children;return r.a.createElement("div",{className:t},r.a.createElement("label",{htmlFor:i,className:n},o),r.a.createElement("input",{id:d,name:u,type:i,className:s,placeholder:l,value:c,onChange:a,autoComplete:p}),f)};var Q=function(e){var t=Object(a.useState)(e),n=Object(i.a)(t,2),r=n[0],c=n[1],l=Object(a.useState)(!1),o=Object(i.a)(l,2),s=o[0],u=o[1];return[r,function(e){s&&u(!1),c(e.target.value)},s,function(e){u(e)}]};var Z=function(){var e=Y(),t=e.authState.error.signInUser,n=e.onSignInUser,c=Object(a.useState)(!1),l=Object(i.a)(c,2),o=l[0],s=l[1],u=Q(""),p=Object(i.a)(u,4),f=p[0],b=p[1],g=p[2],m=p[3],k=Q(""),h=Object(i.a)(k,4),v=h[0],y=h[1],x=h[2],E=h[3],I=[{value:f,onChange:b,id:"email-address",name:"email",type:"email",label:"Email address",placeholder:"example@example.com",autoComplete:"on",error:g,style:"rounded-t-md"},{value:v,onChange:y,id:"password",name:"password",type:"password",label:"password",placeholder:"\ube44\ubc00\ubc88\ud638",autoComplete:"off",error:x,style:"rounded-b-md"}],O=function(e){e.preventDefault(),f&&v?n({email:f,password:v}):(m(!f),E(!v))};return Object(a.useEffect)((function(){t&&s(!0)}),[t]),r.a.createElement("form",{className:"mt-12",onSubmit:O,action:"#"},r.a.createElement("div",{className:"rounded-md shadow-sm -space-y-px"},I.map((function(e){return r.a.createElement(W,{key:e.id,labelClass:"sr-only",className:d()("dark:bg-gray-100 appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 focus:ring-1 sm:text-sm",e.style,{"border-red-500":e.error}),value:e.value,onChange:e.onChange,id:e.id,name:e.name,type:e.type,label:e.label,placeholder:e.placeholder,autoComplete:e.autoComplete})}))),r.a.createElement("div",{className:"mb-8 leading-6 h-6 block text-red-500 text-sm font-semibold text-left px-2"},o?"\uac00\uc785\ud558\uc9c0 \uc54a\uc740 \uacc4\uc815\uc774\uac70\ub098, \uc798\ubabb\ub41c \ube44\ubc00\ubc88\ud638\uc785\ub2c8\ub2e4.":g||x?"\uacc4\uc815\uacfc \ud328\uc2a4\uc6cc\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.":null),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:O,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-purple-500 hover:bg-purple-600 active:outline-none active:ring-2 active:ring-offset-2 active:ring-purple-600"},r.a.createElement("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3"},r.a.createElement(z.a,{className:"text-base text-purple-300 group-hover:text-purple-200",icon:q.c})),"Sign in")))};var $=function(){return r.a.createElement("div",{className:"sign-in w-full h-full flex justify-center bg-gray-50 dark:bg-black pt-40 px-4 sm:px-6 lg:px-8 shadow rounded-md"},r.a.createElement("div",{className:"max-w-md w-full space-y-10"},r.a.createElement("div",null,r.a.createElement("h2",{className:"text-center text-3xl font-extrabold text-gray-900 dark:text-gray-100"},"Sign in to your account")),r.a.createElement(Z,null)))};function ee(e){var t=e.used,n=e.valid,a=e.name;return n?"".concat(a," \ud615\uc2dd\uc5d0 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."):t?"\uc0ac\uc6a9\ud558\uace0 \uc788\ub294 ".concat(a,"\uc785\ub2c8\ub2e4."):"\ud544\uc218 \uc815\ubcf4\uc785\ub2c8\ub2e4."}var te=function(){var e=Q(""),t=Object(i.a)(e,4),n=t[0],c=t[1],l=t[2],o=t[3],s=Q(""),u=Object(i.a)(s,4),p=u[0],f=u[1],b=u[2],g=u[3],m=Q(""),k=Object(i.a)(m,4),h=k[0],v=k[1],y=k[2],x=k[3],E=Q(""),I=Object(i.a)(E,4),O=I[0],N=I[1],B=I[2],w=I[3],j=Q(""),C=Object(i.a)(j,4),S=C[0],T=C[1],U=C[2],_=C[3],R=Y(),D=R.authState.error.signUpUser,A=D.emailUsed,L=D.emailValid,M=D.passwordValid,P=D.penNameUsed,G=D.penNameValid,V=R.onSignUpUser,H=[{id:"last-name",name:"lastName",type:"text",label:"\uc131",placeholder:"\uc131",value:n,onChange:c,error:l,errorMessage:"\ud544\uc218 \uc815\ubcf4\uc785\ub2c8\ub2e4."},{id:"first-name",name:"firstName",type:"text",label:"\uc774\ub984",placeholder:"\uc774\ub984",value:p,onChange:f,error:b,errorMessage:"\ud544\uc218 \uc815\ubcf4\uc785\ub2c8\ub2e4."},{id:"pen-name",name:"penName",type:"text",label:"\ud544\uba85",placeholder:"\uc601\ubb38 \ud544\uc218, \uc911\ubcf5\uc774 \ubd88\uac00\ud569\ub2c8\ub2e4.",value:h,onChange:v,error:y,errorMessage:ee({name:"\ud544\uba85",used:P,valid:G})},{id:"email-address",name:"email",type:"email",label:"\uacc4\uc815(\uc774\uba54\uc77c)",placeholder:"example@example.com",value:O,onChange:N,error:B,errorMessage:ee({name:"\uc774\uba54\uc77c",used:A,valid:L})},{id:"password",name:"password",type:"password",label:"\ube44\ubc00\ubc88\ud638",placeholder:"\uc601\ubb38, \uc22b\uc790 \uc870\ud569 8 ~ 12\uc790\ub85c \uc791\uc131\ud574\uc8fc\uc138\uc694.",value:S,onChange:T,error:U,errorMessage:ee({name:"\ube44\ubc00\ubc88\ud638",valid:M})}],K=function(e){e.preventDefault(),l||b||B||y||U?console.log("\uc2e4\ud589 \uc548\ub428"):h&&p&&n&&O&&S?V({penName:h,firstName:p,lastName:n,email:O,password:S}):(o(!n),g(!p),x(!h),w(!O),_(!S))};return Object(a.useEffect)((function(){(A||L)&&w(!0),(P||G)&&x(!0),M&&_(!0)}),[A,L,M,P,G]),r.a.createElement("form",{onSubmit:K},r.a.createElement("div",{className:"overflow-hidden sm:rounded-md mb-8"},r.a.createElement("div",{className:"rounded-md p-2 space-y-4"},H.map((function(e){return r.a.createElement(W,{key:e.id,boxClass:"relative group",labelClass:"pl-1 mb-1 block text-sm font-medium text-gray-700 dark:text-gray-50",className:d()("rounded-md dark:bg-gray-100 appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-purple-500 focus:border-purple-500 focus:z-10 focus:ring-1 sm:text-sm",{"border-red-500":e.error}),value:e.value,onChange:e.onChange,id:e.id,name:e.name,type:e.type,label:e.label,placeholder:e.placeholder,autoComplete:"off"},r.a.createElement("span",{className:d()("absolute right-0 top-0 text-red-500 text-sm",{hidden:!e.error})},e.errorMessage))})))),r.a.createElement("div",{className:"p-2"},r.a.createElement("button",{type:"submit",onClick:K,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-purple-500 hover:bg-purple-600 active:outline-none active:ring-2 active:ring-offset-2 active:ring-purple-600"},"Sign up")))};var ne=function(){return r.a.createElement("div",{className:"sign-up relative overflow-auto flex items-center w-full h-full bg-gray-50 dark:bg-black shadow rounded-md"},r.a.createElement("div",{className:"absolute left-0 top-auto py-32 w-full h-auto box-contents flex justify-center"},r.a.createElement("div",{className:"max-w-md w-full h-auto space-y-10"},r.a.createElement("div",null,r.a.createElement("h2",{className:"text-center text-3xl font-extrabold text-gray-900 dark:text-gray-100"},"Sign up")),r.a.createElement(te,null))))};var ae={toggle:!1,loading:!1,pageEditor:{penName:"Junhee",profileId:"4c382a569f1f4ea7841b25bd2efe78d8",bio:"\ud504\ub860\ud2b8\uc5d4\ub4dc \uac1c\ubc1c\uc790",userPhoto:"https://avatars.githubusercontent.com/u/59816563?v=4"},pageList:[{pageId:"d5cc2725-97ec-494b-bc80-c16f96379e61",pageTitle:"\uad00\ub9ac\uc790 \uc0ac\uc6a9 \uc124\uba85\uc11c"},{pageId:"d5cc2725-97ec-494b-bc80-c16f96379e62",pageTitle:"\uc0ac\uc6a9\uc790 \uc0ac\uc6a9 \uc124\uba85\uc11c"},{pageId:"d5cc2725-97ec-494b-bc80-c16f96379e63",pageTitle:"\uc0ac\uc6a9\uc790 \uc774\uc6a9 \ubb38\uc758 \ubc29\ubc95"},{pageId:"d5cc2725-97ec-494b-bc80-c16f96379e64",pageTitle:"\uac10\uc0ac\ud569\ub2c8\ub2e4."},{pageId:"d5cc2725-97ec-494b-bc80-c16f96379e65",pageTitle:"test5"},{pageId:"d5cc2725-97ec-494b-bc80-c16f96379e61",pageTitle:"\uad00\ub9ac\uc790 \uc0ac\uc6a9 \uc124\uba85\uc11c"},{pageId:"d5cc2725-97ec-494b-bc80-c16f96379e62",pageTitle:"\uc0ac\uc6a9\uc790 \uc0ac\uc6a9 \uc124\uba85\uc11c"},{pageId:"d5cc2725-97ec-494b-bc80-c16f96379e63",pageTitle:"\uc0ac\uc6a9\uc790 \uc774\uc6a9 \ubb38\uc758 \ubc29\ubc95"},{pageId:"d5cc2725-97ec-494b-bc80-c16f96379e64",pageTitle:"\uac10\uc0ac\ud569\ub2c8\ub2e4."},{pageId:"d5cc2725-97ec-494b-bc80-c16f96379e65",pageTitle:"test5"},{pageId:"d5cc2725-97ec-494b-bc80-c16f96379e61",pageTitle:"\uad00\ub9ac\uc790 \uc0ac\uc6a9 \uc124\uba85\uc11c"},{pageId:"d5cc2725-97ec-494b-bc80-c16f96379e62",pageTitle:"\uc0ac\uc6a9\uc790 \uc0ac\uc6a9 \uc124\uba85\uc11c"},{pageId:"d5cc2725-97ec-494b-bc80-c16f96379e63",pageTitle:"\uc0ac\uc6a9\uc790 \uc774\uc6a9 \ubb38\uc758 \ubc29\ubc95"},{pageId:"d5cc2725-97ec-494b-bc80-c16f96379e64",pageTitle:"\uac10\uc0ac\ud569\ub2c8\ub2e4."},{pageId:"d5cc2725-97ec-494b-bc80-c16f96379e65",pageTitle:"test5"}]};var re=function(){var e=Object(g.c)((function(e){return e.page})),t=e.pageEditor,n=e.toggle,r=Object(g.b)();return{pageState:e,pageEditor:t,pageToggle:n,onChangeToggle:Object(a.useCallback)((function(e){return r(function(e){return{type:"page/CHANGE_TOGGLE",payload:{toggle:e}}}(e))}),[r]),onChangePageTitle:Object(a.useCallback)((function(e,t){return r(function(e,t){return{type:"page/CHANGE_PAGE_TITLE",payload:{title:t,pageId:e}}}(e,t))}),[r])}};var ce=function(){var e=Y().authState.user,t=re().onChangeToggle;return Object(a.useEffect)((function(){e&&t(!0)}),[e]),e?r.a.createElement(s.a,{to:"/bklog/".concat(e.penName)}):r.a.createElement("div",{className:"auth-page w-full h-full items-center p-4 rounded overflow-hidden"},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/auth/sign-up"},r.a.createElement(ne,null)),r.a.createElement(s.b,{path:"/auth/sign-in"},r.a.createElement($,null))))};var le=function(){var e=Object(g.c)((function(e){return e.base})),t=Object(g.b)();return{baseState:e,onChangeMode:Object(a.useCallback)((function(){return t({type:"base/CHANGE_DARK_MODE"})}),[t])}};var oe=function(e){return r.a.createElement("div",{className:"home"},r.a.createElement(o.b,{to:"/bklog"},"bklog \uc774\ub3d9"))},se=n(48),ie=n(7);function ue(e){switch(e){case"bk-bold":return"b";case"bk-italic":return"i";case"bk-underbar":return"_";case"color":return"fc";case"background-color":return"bc";case"border-bottom":return"_";default:return null}}function de(e){switch(e){case"700":return"b";case"italic":return"i";default:return e}}function pe(e,t){for(var n,a=e[t],r=t+1,c=e.length;" "!==e[r]&&"&"!==e[r]&&r<c&&(a+=e[r],";"!==e[r]);)r++;if(";"===e[r])switch(a){case"&quot;":n='"';break;case"&amp;":n="&";break;case"&lt;":n="<";break;case"&gt;":n=">";break;case"&nbsp;":n=" ";break;case"&iexcl;":n="\xa1";break;case"&cent;":n="\uffe0";break;case"&pound;":n="\uffe1";break;case"&curren;":n="\xa4";break;case"&yen;":n="\uffe5";break;case"&brvbar;":n="|";break;case"&sect;":n="\xa7";break;case"&uml;":n="\xa8";break;case"&copy;":n="\u24d2";break;case"&ordf;":n="\xaa";break;case"&laquo;":n="\u226a";break;case"&not;":n="\uffe2";break;case"&shy;":n="-";break;case"&reg;":n="?";break;case"&macr;":n=a;break;case"&deg;":n="\xb0";break;case"&plusmn;":n="\xb1";break;case"&sup1;":n="\xb9";break;case"&sup2;":n="\xb2";break;case"&sup3;":n="\xb3";break;case"&acute;":n="\xb4";break;case"&micro;":n="\u03bc";break;case"&para;":n="\xb6";break;case"&middot;":n="\xb7";break;case"&cedil;":n="\xb8";break;case"&ordm;":n="\xba";break;case"&raquo;":n="\u226b";break;case"&frac14;":n="\xbc";break;case"&frac12;":n="\xbd";break;case"&frac34;":n="\xbe";break;case"&iquest;":n="\xbf";break;case"&Agrave;":case"&Aacute;":case"&Acirc;":case"&Atilde;":case"&Auml;":case"&Aring;":n="A";break;case"&AElig;":n="\xc6";break;case"&Ccedil;":n="C";break;case"&Egrave;":case"&Eacute;":case"&Ecirc;":case"&Euml;":n="E";break;case"&Igrave;":case"&Iacute;":case"&Icirc;":case"&Iuml;":n="I";break;case"&ETH;":n="\xd0";break;case"&Ntilde;":n="N";break;case"&Ograve;":case"&Oacute;":case"&Ocirc;":case"&Otilde;":case"&Ouml;":n="O";break;case"&times;":n="\xd7";break;case"&Oslash;":n="\xd8";break;case"&Ugrave;":case"&Uacute;":case"&Ucirc;":case"&Uuml;":n="U";break;case"&Yacute;":n="Y";break;case"&THORN;":n="\xde";break;case"&szlig;":n="\xdf";break;case"&agrave;":case"&aacute;":case"&acirc;":case"&atilde;":case"&auml;":case"&aring;":n="a";break;case"&aelig;":n="\xe6";break;case"&ccedil;":n="c";break;case"&egrave;":case"&eacute;":case"&ecirc;":case"&euml;":n="e";break;case"&igrave;":case"&iacute;":case"&icirc;":case"&iuml;":n="i";break;case"&eth;":n="\xf0";break;case"&ntilde;":n="n";break;case"&ograve;":case"&oacute;":case"&ocirc;":case"&otilde;":case"&ouml;":n="o";break;case"&divide;":n="\xf7";break;case"&oslash;":n="\xf8";break;case"&ugrave;":case"&uacute;":case"&ucirc;":case"&uuml;":n="u";break;case"&yacute;":n="y";break;case"&thorn;":n="\xfe";break;case"&yuml;":n="y";break;default:n=a}else n=e[t],r=t;return{word:n,count:r}}function fe(e,t){if(!e&&!t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var n=[],a=0;a<e.length;a++){var r=JSON.stringify(e[a]);if(a){for(var c=n.length,l=0;l<n.length;l++)if(n[l]===r){n.splice(l,1);break}if(c===n.length)return!1}else{for(var o=0;o<t.length;o++){var s=JSON.stringify(t[o]);r===s||n.push(s)}if(n.length===t.length)return!1}}return!n.length}function be(e,t){for(var n=JSON.stringify(t[0]),a=0;a<e.length;a++){if(JSON.stringify(e[a][0])===n)return a}return-1}function ge(e,t,n,a){var r=0,c=["",[]],l=[];return e.forEach((function(e){for(var o=0;o<e[0].length;o++)r===t||r+1===n||r>=t&&r<n&&0===o?-1===be(c[1],a)?(c[0]&&l.push(c),c=e[1]?-1!==be(e[1],a)?["",Object(ie.a)(e[1])]:["",[].concat(Object(ie.a)(e[1]),[a])]:["",[a]]):e[1]?-1!==be(e[1],a)?fe(c[1],e[1])||(l.push(c),c=["",Object(ie.a)(e[1])]):fe(c[1],[].concat(Object(ie.a)(e[1]),[a]))||(l.push(c),c=["",[].concat(Object(ie.a)(e[1]),[a])]):fe(c[1],[a])||(l.push(c),c=["",[a]]):r!==n&&0!==o||fe(c[1],e[1]?e[1]:[])||(c[0]&&l.push(c),c=e[1]?["",Object(ie.a)(e[1])]:["",[]]),c[0]+=e[0][o],r++})),l.push(c),l.map((function(e){return e[1][0]?e:[e[0]]}))}function me(e,t,n,a){var r=0,c=["",[]],l=[];return e.forEach((function(e){for(var o=0;o<e[0].length;o++){if(r===t||r+1===n||r>t&&r<n&&0===o){var s=void 0;if(e[1])if(fe(c[1],e[1])){if(-1!==(s=be(c[1],a))){l.push(c);var i=Object(ie.a)(c[1]);i.splice(s,1),c=["",Object(ie.a)(i)]}}else{var u=be(e[1],a),d=Object(ie.a)(e[1]);if(-1!==(s=be(c[1],a))){c[0]&&l.push(c);Object(ie.a)(c[1]);-1!==u?(d.splice(u,1),c=["",Object(ie.a)(d)]):c=["",Object(ie.a)(e[1])]}else-1!==u?(d.splice(u,1),fe(c[1],d)||(c[0]&&l.push(c),c=["",Object(ie.a)(d)])):fe(c[1],e[1])||(c[0]&&l.push(c),c=["",Object(ie.a)(e[1])])}else c[1][0]&&(l.push(c),c=["",[]])}else r!==n&&0!==o||fe(c[1],e[1]?e[1]:[])||(c[0]&&l.push(c),c=e[1]?["",Object(ie.a)(e[1])]:["",[]]);c[0]+=e[0][o],r++}})),c[0]&&l.push(c),l.map((function(e){return e[1][0]?e:[e[0]]}))}var ke={parseHtmlContents:function(e){var t=[],n=e.length;console.log(e);for(var a=!0,r=[],c=!1,l=!1,o=[],s=null,i=[],u=0;u<n;u++)if(c||l)if(c)switch(e[u]){case":":s&&(i=[ue(s)],s=null);break;case";":i&&s&&(i.push(de(s)),i[0]||i.shift(),"_"===i[0]&&i.pop(),o.push(i),i=[],s=null);break;case" ":s&&!i[0]&&(i=[ue(s)],o.push(i),i=[],s=null);break;case'"':s&&(i=[ue(s)])&&o.push(i),r[1]?r[1]=[].concat(Object(ie.a)(r[1]),Object(ie.a)(o)):(r=[r[0]])[1]=Object(ie.a)(o),o=[],c=!1,s=null,i=[];break;default:s?s+=e[u]:s=e[u]}else l&&("'"===e[u]||'"'===e[u]?(r[1]?r[1].push(["a",s]):r=[r[0],[["a",s]]],s=null,l=!1):s?s+=e[u]:s=e[u]);else switch(e[u]){case"<":!u||"/"!==e[u+1]||">"!==e[u+6]&&"a"!==e[u+2]?(a=!1,void 0!==r[0]&&(t.push(r),r=[]),"s"===e[u+1]?u+=4:"a"===e[u+1]&&(u+=1)):(r[0]&&(t.push(r),r=[]),">"===e[u+6]?u+=6:u+=3,a=!0);break;case">":a=!0;break;case"s":a?r[0]?r[0]+=e[u]:r[0]=e[u]:"t"===e[u+1]&&"="===e[u+5]&&(u+=6,c=!0);break;case"c":a?r[0]?r[0]+=e[u]:r[0]=e[u]:"l"===e[u+1]&&"="===e[u+5]&&(u+=6,c=!0);break;case"h":a?r[0]?r[0]+=e[u]:r[0]=e[u]:"r"===e[u+1]&&"f"===e[u+3]&&(u+=5,l=!0);break;case"&":var d=pe(e,u),p=d.word;u=d.count,r[0]?r[0]+=p:r[0]=p;break;case"f":if(a)r[0]?r[0]+=e[u]:r[0]=e[u];else if("<"===e[u-1])for(;">"!==e[u+1];)u++;break;default:a&&(r[0]?r[0]+=e[u]:r[0]=e[u])}return r[0]&&t.push(r),t},addContentsStyle:ge,deleteContentsStyle:me,changeStyleTextContents:function(e,t,n,a,r){var c;switch(r){case"add":c=ge(e.property.contents,n,a,t);break;case"del":c=me(e.property.contents,n,a,t);break;case"color":case"link":c=ge(me(e.property.contents,n,a,t),n,a,t);break;default:c=e.property.contents}return Object.assign({},e,{property:Object.assign({},e.property,{contents:c})})}},he=function(e){return!e.preBlockId&&!e.parentBlockId},ve=function(e){return function(t){return t.id===e}};var ye=n(87);function xe(e,t,n){var a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=Object(ie.a)(e);n[0]?e.length<1||e.length===t?(r&&e.length>=1&&c.pop(),c=c.concat(n)):(a=c).splice.apply(a,[t,r].concat(Object(ie.a)(n))):c.splice(t,r);return c}var Ee=function(e){return function(t){return t.id===e}};var Ie=function(e){return function(t){return t.id!==e}};var Oe={createBlockData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"text",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bk-p",n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return{index:0,id:Object(ye.a)(),type:e,parentBlockId:null,preBlockId:n,nextBlockId:a||null,property:{type:t,styles:{color:null,backgroundColor:null},contents:[]},children:[]}},copyBlockData:function(e){return Object.assign({},e,{id:Object(ye.a)(),parentBlockId:null,preBlockId:null,nextBlockId:null,children:[]})},copyBlockDataList:function(e){for(var t=[],n=[],a=[],r=0;r<e.length;r++){var c=Object.assign({},e[r],{id:Object(ye.a)(),preBlockId:null,nextBlockId:null,parentBlockId:null,children:[]});if(e[r].parentBlockId){var l=a[a.length-1];c.parentBlockId=l[0];var o=t[l[1]].children;t[l[1]].children=xe(o,o.length,[c.id])}if(e[r].children[0]&&a.push([c.id,r]),e[r].preBlockId&&n[0]){var s=n.pop();s&&(c.preBlockId=s[0],t[s[1]].nextBlockId=c.id)}var i=e[r].nextBlockId;i?-1===e.findIndex(Ee(i))?c.nextBlockId=null:n.push([c.id,r]):a.pop(),t.push(c)}return t},insertBlock:function(e,t,n,a){for(var r=e.map((function(e){return Object.assign({},e)})),c=Object(ie.a)(t),l=c[0].id,o=[],s=n?r.findIndex(Ee(n)):-1,i=n?r[s]:null,u=i&&i.nextBlockId?r.findIndex(Ee(i.nextBlockId)):-1,d=-1!==u?r[u]:null,p=a||(i&&i.parentBlockId?i.parentBlockId:null);l;){var f=c.findIndex(Ee(l)),b=c[f];0===f&&(i?(c[0].preBlockId=i.id,r[s].nextBlockId=l):c[0].preBlockId=null),p&&(c[f].parentBlockId=p,o.push(l)),b.nextBlockId?l=b.nextBlockId:(d&&(c[f].nextBlockId=d.id,r[u].preBlockId=l),l=null)}if(p){var g=r.findIndex(Ee(p)),m=r[g],k=n?m.children.indexOf(n)+1:0,h=n?-1:r.findIndex(Ee(m.children[0]));if(-1!==h){var v=o[o.length-1],y=c.findIndex(Ee(v));r[h].preBlockId=v,c[y].nextBlockId=r[h].id}r[g].children=xe(m.children,k,o)}return r=r.concat(c)},insertChild:xe,updateContents:function(e,t){var n=e.map((function(e){return Object.assign({},e)}));return t.forEach((function(e){n[e.blockIndex-1]&&e.id===n[e.blockIndex-1].id?"text"!==n[e.blockIndex-1].type&&"title"!==n[e.blockIndex-1].type||(n[e.blockIndex-1].property=Object.assign({},n[e.blockIndex-1].property,{contents:"string"===typeof e.contents?Ce(e.contents):e.contents})):console.log("block\uc774 \uc81c\ub300\ub85c \uc815\ub82c\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.")})),n},excludeBlock:function(e,t){var n=t,a=e.filter(Ee(n))[0],r=a.preBlockId,c=a.nextBlockId,l=a.parentBlockId;if("title"===a.type)return console.log("title\uc740 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),e;var o=e.filter(Ie(n)),s=r,i=c;if(a.children[0]){var u=[];a.children.forEach((function(e){u.push(o.findIndex(Ee(e)))}));var d=u[0],p=u[u.length-1];r&&(o[d].preBlockId=r,i=o[d].id),c&&(o[p].nextBlockId=c,s=o[p].id),u.forEach((function(e){o[e].parentBlockId=l}))}if(l){var f=o.findIndex(Ee(l)),b=o[f],g=b.children.indexOf(n);o[f]=Object.assign({},b,{children:a.children[0]?xe(b.children,g,a.children,1):b.children.filter((function(e){return e!==n}))})}if(r){var m=o.findIndex(Ee(r));o[m].nextBlockId=i}if(c){var k=o.findIndex(Ee(c));o[k].preBlockId=s}return console.log("deletedBlocks",o,n,a,e),o},excludeBlockList:function(e,t){for(var n=e.map((function(e){return Object.assign({},e)})),a=t[0],r=null,c=null,l=function(){var l=e.filter(Ee(a))[0],o=l.preBlockId,s=l.nextBlockId,i=l.parentBlockId;if(!o&&!i||"title"===l.type)return console.log("title\uc740 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),{v:e};if(i){var u=n.findIndex(Ee(i));n[u].children=n[u].children.filter((function(e){return e!==l.id}))}if(o&&!t.find((function(e){return e===o}))){var d=n.findIndex(Ee(o));r=[o,d]}if(s)if(t.find((function(e){return e===s})))a=s;else{var p=n.findIndex(Ee(s));c=[s,p],a=null}else a=null};a;){var o=l();if("object"===typeof o)return o.v}r&&c?(n[r[1]].nextBlockId=c[0],n[c[1]].preBlockId=r[0]):r?n[r[1]].nextBlockId=null:c&&(n[c[1]].preBlockId=null);for(var s=0;s<t.length;s++)n=n.filter(Ie(t[s]));return n},switchingBlock:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.filter(Ee(t))[0];if(!r)return console.log("currentBlock\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),e;if(r.children[0]&&-1!==r.children.indexOf(n))return console.log("targetId\uac00 currentId\uc758 \uc790\uc2dd \uc694\uc18c\uc785\ub2c8\ub2e4."),e;var c=e.filter(Ie(t)),l=c.findIndex(Ee(r.preBlockId)),o=c.findIndex(Ee(r.nextBlockId)),s=c.findIndex(Ee(r.parentBlockId));if(console.log(l,o,s),console.log(c.map((function(e){return Object.assign({},e)}))),-1!==l&&(c[l].nextBlockId=r.nextBlockId),-1!==o&&(c[o].preBlockId=r.preBlockId),-1!==s){var i=c[s];i.children=i.children.filter((function(e){return e!==r.id}))}console.log(c.map((function(e){return Object.assign({},e)}))),r.preBlockId=null,r.nextBlockId=null,r.parentBlockId=null;var u=c.findIndex(Ee(n)),d=a?null:c[u],p=d?d.parentBlockId:null,f=a?c.findIndex(Ee(n)):p?c.findIndex(Ee(p)):null,b=f?c[f]:null;if(d){var g=d.nextBlockId,m=c.findIndex(Ee(g));console.log("preblock",d),d.nextBlockId=r.id,r.preBlockId=d.id,-1!==m?(c[m].preBlockId=r.id,r.nextBlockId=c[m].id):r.nextBlockId=null}if(b){var k=d&&d.parentBlockId?b.children.indexOf(d.id)+1:0,h=d&&d.nextBlockId?null:b.children[0];if(b.children=xe(b.children,k,[r.id]),h){var v=c.findIndex(Ee(h));c[v].preBlockId=r.id,r.nextBlockId=h}k||(r.preBlockId=null)}return r.parentBlockId=b?b.id:null,c.push(r),c},restoreBlock:function(e,t){var n=[],a=Object.assign({},t);n.push({id:a.id,data:[t]});var r=e.map((function(e){return Object.assign({},e)}));if(a.preBlockId){var c=r.findIndex(Ee(a.preBlockId));r[c].nextBlockId=a.id,n.push({id:r[c].id,data:[{nextBlockId:r[c].nextBlockId}]})}if(a.nextBlockId){var l=r.findIndex(Ee(a.nextBlockId));r[l].preBlockId=a.id,n.push({id:r[l].id,data:[{preBlockId:r[l].preBlockId}]})}if(a.parentBlockId){var o=r.findIndex(Ee(a.parentBlockId)),s=0;a.preBlockId&&(s=r[o].children.findIndex((function(e){return e===a.preBlockId}))+1),r[o].children=xe(r[o].children,s,[a.id]),n.push({id:r[o].id,data:[{children:r[o].children}]})}if(a.children[0])for(var i=function(e){var t=a.children[e],c=r.findIndex(Ee(t)),l=[];0===e&&(r[c].preBlockId=null,l.push({preBlockId:null})),e===a.children.length-1&&(r[c].nextBlockId=null,l.push({nextBlockId:null}));var o=r[c].parentBlockId;if(o){var s=r.findIndex(Ee(o));r[s].children=r[s].children.filter((function(e){return e!==t})),c===a.children.length-1&&n.push({id:o,data:[{children:r[s].children}]})}r[c].parentBlockId=a.id,l.push({parentBlockId:a.id}),n.push({id:r[c].id,data:[].concat(l)})},u=0;u<a.children.length;u++)i(u);return r.push(a),{blocks:r,changedData:n}}};var Ne={tempDataPush:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=[].concat(Object(ie.a)(e),[t]);return n<a.length&&a.shift(),a},getContentsToBeChanged:function(e,t){var n=[];return console.log(t),t.forEach((function(t){console.log(e[t.blockIndex-1]),"text"===e[t.blockIndex-1].type&&n.push(e[t.blockIndex-1])})),console.log(n),n.map((function(e){return{id:e.id,contents:e.property?e.property.contents:null,blockIndex:e.index}}))}},Be="bklog/ADD_BLOCK",we="bklog/COMMIT_BLOCK",je="bklog/DELETE_BLOCK",Ce=ke.parseHtmlContents,Se=ke.changeStyleTextContents,Te=function(e){for(var t,n=e.length,a=e.concat(),r=[],c=0,l=1,o=null,s=[];a[0]&&r.length<n;){var i=void 0;if(o?i=o:s.length>=1&&(i=s.pop()),-1===(c=i?a.findIndex(ve(i)):a.findIndex(he)))return console.log("currentId \ub204\ub77d",i,r),r;void 0!==(t=a[c]).children[0]?(o=t.children[0],t.nextBlockId&&s.push(t.nextBlockId)):o=t.nextBlockId,r.push(Object.assign({},t,{index:l++})),a.splice(c,1)}return r},Ue=Oe.createBlockData,_e=Oe.copyBlockData,Re=Oe.insertBlock,De=Oe.updateContents,Ae=Oe.excludeBlock,Le=Oe.switchingBlock,Me=Oe.restoreBlock,Pe=Ne.tempDataPush,Ge=Ne.getContentsToBeChanged,Ve=n(29);var He={pageId:Ve.a.id,userId:Ve.a.userId,blocks:Te(Ve.a.blocks),editingId:null,stage:[],rightToEdit:!0,tempBack:[],tempFront:[]};var Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:var n=t.payload,a=n.preBlockId,r=n.newBlockType,c=n.blockData,l=a?e.blocks.filter((function(e){return e.id===a}))[0]:e.blocks[e.blocks.length-1],o=c?_e(c):Ue("text",r,l.id),s=Re(e.blocks,[o],l.id);return Object.assign({},e,{blocks:Te(s),editingId:o.id,tempBack:Pe(e.tempBack,{type:Be,data:{id:o.id}})});case"bklog/EDITABLE":var i,u=t.payload,d=u.editingId,p=u.editingIndex;return i=p?p>=1&&p<=e.blocks.length?e.blocks[p-1].id:null:d,Object.assign({},e,{editingId:i});case"bklog/EDIT_BLOCK":var f=t.payload.blockId,b=t.payload.text,g=t.payload.blockIndex,m=e.stage.filter((function(e){return e.id!==f})),k={id:f,blockIndex:g,contents:b};return Object.assign({},e,{stage:m?[].concat(Object(ie.a)(m),[k]):[k]});case"bklog/CHANGE_TEXT_STYLE":var h=t.payload,v=h.changedTextStyleBlockIndex,y=h.styleType,x=h.startPoint,E=h.endPoint,I=h.order,O=e.blocks[v-1];if("text"!==O.type&&"title"!==O.type)return console.log("text block\uc774 \uc544\ub2d9\ub2c8\ub2e4."),e;var N={id:O.id,contents:O.property.contents,blockIndex:O.index};return Object.assign({},e,{blocks:e.blocks.map((function(e){return e.index===v?Se(O,y,x,E,I):e})),tempBack:Pe(e.tempBack,{type:"bklog/CHANGE_TEXT_STYLE",data:[N]})});case we:if(!e.stage[0])return e;var B=Ge(e.blocks,e.stage),w=Object.assign({},e,{blocks:De(e.blocks,e.stage),stage:[],editingId:null,tempBack:Pe(e.tempBack,{type:we,data:B})});return localStorage.setItem("bklog",JSON.stringify(w)),w;case je:var j=t.payload.deletedId;if(j===e.blocks[0].id)return e;var C=e.blocks.filter((function(e){return e.id===j}))[0];return Object.assign({},e,{blocks:Te(Ae(e.blocks,j)),tempBack:Pe(e.tempBack,{type:je,data:C})});case"bklog/SWITCH_BLOCK":var S=t.payload,T=S.switchedId,U=S.targetBlockId,_=S.targetType,R=Le(e.blocks,T,U,_);return console.log(R),Object.assign({},e,{blocks:Te(R)});case"bklog/REVERT_BLOKC":var D,A=e.tempBack.pop();return A&&A.data.id&&(D=Me(e.blocks,A.data)),D?Object.assign({},e,{blocks:Te(D.blocks)}):e;default:return e}};var Fe=function(){var e=Object(g.c)((function(e){return e.bklog})),t=Object(a.useMemo)((function(){return e.blocks.filter((function(e){return null===e.parentBlockId}))}),[e.blocks]),n=Object(a.useMemo)((function(){return e.editingId}),[e.editingId]),r=e.stage,c=Object(a.useMemo)((function(){return e.rightToEdit}),[]),l=Object(g.b)(),o=Object(a.useCallback)((function(e,t,n){return l(function(e,t,n){return{type:Be,payload:{preBlockId:e,newBlockType:t,blockData:n}}}(e,t,n))}),[l]),s=Object(a.useCallback)((function(e,t){return l(function(e,t){return{type:"bklog/EDITABLE",payload:{editingId:e,editingIndex:t}}}(e,t))}),[l]),i=Object(a.useCallback)((function(e,t,n){return l({type:"bklog/EDIT_BLOCK",payload:{blockId:(a={blockId:e,blockIndex:t,text:n}).blockId,blockIndex:a.blockIndex,text:a.text}});var a}),[l]),u=Object(a.useCallback)((function(){return l({type:we})}),[l]),d=Object(a.useCallback)((function(e){return l({type:je,payload:{deletedId:e}})}),[l]),p=Object(a.useCallback)((function(e,t,n,a,r){return l(function(e,t,n,a,r){return{type:"bklog/CHANGE_TEXT_STYLE",payload:{changedTextStyleBlockIndex:e,styleType:t,startPoint:n,endPoint:a,order:r}}}(e,t,n,a,r))}),[l]),f=Object(a.useCallback)((function(e,t,n){return l(function(e,t,n){return{type:"bklog/SWITCH_BLOCK",payload:{switchedId:e,targetBlockId:t,targetType:n}}}(e,t,n))}),[l]),b=Object(a.useCallback)((function(){return l({type:"bklog/REVERT_BLOKC"})}),[l]);return{state:e,initBlock:t,getRightToEdit:c,getChilrenBlock:function(t){return e.blocks.filter((function(e){return e.parentBlockId===t}))},getBlockState:function(t){return e.blocks.filter((function(e){return e.id===t}))[0]},getStagedBlocks:r,getStagedBlock:function(t){return e.stage.filter((function(e){return e.id===t}))[0]},getEditAbleId:n,onAddBlock:o,onEditAble:s,onEditBlock:i,onCommitBlock:u,onDeleteBlock:d,onChangeTextStyle:p,onSwitchBlock:f,onRevertBlock:b}};function Je(e){var t,n,a=null;if(2===e.length){if(e[1].forEach((function(e){switch(e[0]){case"b":a=a?a+" ".concat("font-weight: 700;"):"font-weight: 700;";break;case"i":a=a?a+" ".concat("font-style: italic;"):"font-style: italic;";break;case"_":a=a?a+" ".concat("border-bottom: 0.05em solid;"):"border-bottom: 0.05em solid;";break;case"fc":a=a?a+" ".concat("color:"," ").concat(e[1],";"):"".concat("color:"," ").concat(e[1],";");break;case"bc":a=a?a+" ".concat("background-color:"," ").concat(e[1],";"):"".concat("background-color:"," ").concat(e[1],";");break;case"a":n=e[1]}})),t="<span".concat("").concat(a?' style="'+a+'"':"",">").concat(e[0],"</span>"),n){var r=t;t='<a href="'.concat(n,'">').concat(r,"</a>")}}else t=e[0];return t}function Xe(e,t,n){return 1===n?Je(e)+Je(t):e+Je(t)}function Ye(e,t){for(var n=0,a=null,r=0;r<e.length;r++)if((n+=e[r][0].length)>t){a=2===e[r].length?e[r][1]:null;break}return a}var ze=n(30),qe=f.a.mark($e);function We(e,t,n){for(var a=n;a.parentNode!==e;)a=a.parentNode;for(var r=t;null!==a&&r>0;)a=a.previousSibling,r-=1;return r>0}function Qe(e,t,n,a){if(e===n)return t-a;var r=e.compareDocumentPosition(n);return 0!==(r&Node.DOCUMENT_POSITION_CONTAINED_BY)?We(e,t,n)?1:-1:0!==(r&Node.DOCUMENT_POSITION_CONTAINS)?We(n,a,e)?-1:1:0!==(r&Node.DOCUMENT_POSITION_FOLLOWING)?-1:0!==(r&Node.DOCUMENT_POSITION_PRECEDING)?1:void 0}function Ze(e,t){return"br"===e.tagName.toLowerCase()?"\n":"div"!==e.tagName.toLowerCase()||t?"":"\n"}function $e(e){var t,n,a,r=arguments;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=!(r.length>1&&void 0!==r[1])||r[1],n=e.firstChild,a=0,c.next=5,{node:e,offset:a,text:Ze(e,t)};case 5:if(null==n){c.next=20;break}if(n.nodeType!==Node.TEXT_NODE){c.next=12;break}return c.next=9,{node:n,offset:NaN,text:n.data};case 9:t=!1,c.next=14;break;case 12:return c.delegateYield($e(n,t),"t0",13);case 13:t=c.t0;case 14:return n=n.nextSibling,a+=1,c.next=18,{node:e,offset:a,text:""};case 18:c.next=5;break;case 20:return c.abrupt("return",t);case 21:case"end":return c.stop()}}),qe)}function et(e,t){var n,a=0,r=null,c=0,l=Object(ze.a)($e(e));try{for(l.s();!(n=l.n()).done;){var o=n.value;if(o.text.length>t-a)return{node:o.node,offset:o.node.nodeType===Node.TEXT_NODE?t-a:o.offset};a+=o.text.length,r=o.node,c=o.node.nodeType===Node.TEXT_NODE?o.text.length:o.offset}}catch(s){l.e(s)}finally{l.f()}return{node:r,offset:c}}function tt(e,t,n){var a,r=0,c=Object(ze.a)($e(e));try{for(c.s();!(a=c.n()).done;){var l=a.value;if(!t||!t.nodeType)return r+=l.text.length;if(t.nodeType!==Node.TEXT_NODE&&t===l.node&&n===l.offset)return r;if(t.nodeType===Node.TEXT_NODE&&t===l.node)return r+n;r+=l.text.length}}catch(o){c.e(o)}finally{c.f()}return Qe(t,n,e,0)<0?0:r}function nt(e,t,n){var a=window.getSelection(),r=et(e,t),c=et(e,n);a.setBaseAndExtent(r.node,r.offset,c.node,c.offset)}function at(e){var t=window.getSelection();return Qe(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)<0?tt(e,t.anchorNode,t.anchorOffset):tt(e,t.focusNode,t.focusOffset)}function rt(e){var t=window.getSelection();return Qe(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)<0?tt(e,t.focusNode,t.focusOffset):tt(e,t.anchorNode,t.anchorOffset)}var ct=r.a.forwardRef((function(e,t){var n=e.className,a=e.onKeyPress,c=e.onKeyUp,l=e.onClick,o=e.onMouseUp,s=e.onMouseDown,i=e.onMouseMove,u=e.onFocus,d=e.onBlur,p=e.dangerouslySetInnerHTML,f=e.contents,b=e.placeholder;return r.a.createElement("div",{className:"bk-contentEditable ".concat(n||""),ref:t,onKeyUp:c,onKeyPress:a,onClick:l,onMouseUp:o,onMouseDown:s,onMouseMove:i,onFocus:u,onBlur:d,contentEditable:!0,dangerouslySetInnerHTML:p,placeholder:b},f)}));function lt(e){var t=e.colorCode,n=e.onStyleChange,a=e.addDelToggle,c="rgba(".concat(t[0],",").concat(t[1],",").concat(t[2],",").concat(t[3],")"),l={color:c},o=a(["fc",c])?"del":"color";return r.a.createElement("button",{style:l,onClick:function(){n(["fc",c],o)}},"Text","del"===o?"v":null)}var ot=[[191,63,63,1],[191,127,63,1],[191,191,63,1],[127,191,63,1],[63,191,63,1],[63,191,127,1],[63,127,191,1],[63,63,191,1],[127,63,191,1],[191,63,191,1],[191,63,127,1]];var st=function(e){var t=e.addDelToggle,n=e.onStyleChange;return r.a.createElement("div",{className:"bk-color-menu"},ot.map((function(e,a){return r.a.createElement(lt,{key:a,colorCode:e,onStyleChange:n,addDelToggle:t})})))},it=["h1","h2","h3","h4","p"];function ut(){return r.a.createElement("select",null,it.map((function(e,t){return r.a.createElement("option",{key:t},e)})))}function dt(e){var t=e.onStyleChange,n=e.addDelToggle,a=e.styleType,c=n?"del":"add";return r.a.createElement("button",{className:"bk-textStyleToggle ".concat(c),onClick:function(){t([a],c)}},a)}var pt=function(e){var t=e.blockIndex,n=e.startPosition,c=e.endPosition,l=e.contents,o=e.reBlockFocus,s=Object(a.useState)(Ye(l,n)),u=Object(i.a)(s,2),d=u[0],p=u[1],f=Fe(),b=f.onChangeTextStyle,g=f.onCommitBlock,m=function(e,a){g(),b(t,e,n,c,a),o()},k=function(e){return-1!==function(e,t){for(var n=JSON.stringify(t),a=0;a<e.length;a++){if(JSON.stringify(e[a])===n)return a}return-1}(d||[],e)};return Object(a.useEffect)((function(){p(Ye(l,n))}),[l,n]),r.a.createElement("div",{style:{left:"".concat(16*n,"px")},className:"bk-style-toggles absolute bg-white -top-full border"},r.a.createElement(ut,null),["b","i","_"].map((function(e,t){return r.a.createElement(dt,{key:t,onStyleChange:m,styleType:e,addDelToggle:k([e])})})),r.a.createElement(st,{addDelToggle:k,onStyleChange:m}))};n(80);var ft=function e(t){var n=t.blockData,c=Object(a.useState)(!0),l=Object(i.a)(c,2),o=(l[0],l[1],Object(a.useState)(0)),s=Object(i.a)(o,2),u=s[0],d=s[1],p=Object(a.useState)(0),f=Object(i.a)(p,2),b=f[0],g=f[1],m=Object(a.useState)(!1),k=Object(i.a)(m,2),h=k[0],v=k[1],y=Object(a.useRef)(null),x=Fe(),E=(x.getRightToEdit,x.getEditAbleId),I=x.onAddBlock,O=x.onDeleteBlock,N=x.getChilrenBlock,B=x.onEditAble,w=x.onEditBlock,j=x.onCommitBlock,C=Object(a.useMemo)((function(){return{__html:n.property&&n.property.contents[0]?1===n.property.contents.length?Je(n.property.contents[0]):n.property.contents.reduce(Xe):""}}),[n.property]),S=n.children[0]?N(n.id):null,T=function(e,t,n){nt(e,t,n||t)},U=function(e){e.focus()};return Object(a.useEffect)((function(){var e=document.activeElement;u|b&&e===y.current&&T(y.current,u,b)}),[n.property]),Object(a.useEffect)((function(){E===n.id&&y.current&&U(y.current)}),[E]),Object(a.useEffect)((function(){"container"===n.type&&(n.children[0]||O(n.id))}),[n.children]),Object(a.useEffect)((function(){v(b-u>=1)}),[u,b]),r.a.createElement("div",{"data-index":n.index,className:"block-zone"},r.a.createElement("div",{className:"bk-block relative pr-8",onBlur:function(e){e.currentTarget,e.target,e.currentTarget.contains(e.relatedTarget)||(d(0),g(0),j())}},n.property&&"container"!==n.type?r.a.createElement(ct,{className:n.property.type,dangerouslySetInnerHTML:C,ref:y,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),I(n.id,n.property?n.property.type:null))},onKeyUp:function(e){switch(d(at(e.target)),g(rt(e.target)),e.key){case"Enter":d(0),g(0),e.preventDefault();break;case"ArrowUp":0===u&&(e.preventDefault(),d(0),g(0),B(null,n.index-1));break;case"ArrowDown":b===e.target.innerText.length&&(d(0),g(0),e.preventDefault(),B(null,n.index+1));break;case"Backspace":if(e.target.innerHTML||0!==u||0!==b){w(n.id,n.index,e.target.innerHTML);break}j(),O(n.id),n.index>1&&B(null,n.index-1);break;case" ":g(0),w(n.id,n.index,e.target.innerHTML),j();break;default:w(n.id,n.index,e.target.innerHTML)}},onMouseDown:function(e){var t=e.target.parentNode;"A"===t.tagName&&window.open(t.href)},onMouseUp:function(){var e=at(y.current),t=rt(y.current);d(e),g(t)},onFocus:function(e){h?u|b&&T(y.current,u,b):function(e){var t=e.innerText.length;d(t),g(t),nt(e,t,t)}(y.current),B(n.id)},placeholder:"\uc785\ub825\ud574\uc8fc\uc138\uc694..."}):null,h?r.a.createElement(pt,{blockIndex:n.index,startPosition:u,endPosition:b,contents:n.property.contents,reBlockFocus:function(){U(y.current)}}):null),S?S.map((function(t){return r.a.createElement(e,{blockData:t,key:t.id})})):null)},bt=["user-block px-4 pt-4 bg-purple-50","profile-text-block","penName font-semibold text-xl text-gray-600","bi text-sm font-medium text-gray-600","profile-image-block w-full h-18 pt-6","avatar w-24 h-12 m-auto relative","w-24 h-24 absolute hover:cursor-pointer rounded-full overflow-hidden border","w-full h-full","w-full h-full"];var gt=function(e){var t=e.penName,n=e.bio,a=e.userPhoto;return r.a.createElement("div",{className:bt[0]},r.a.createElement("div",{className:bt[1]},r.a.createElement("div",{className:bt[2]},t),r.a.createElement("div",{className:bt[3]},n)),r.a.createElement("div",{className:bt[4]},r.a.createElement("div",{className:bt[5]},r.a.createElement(o.b,{to:"/bklog/".concat(t),className:bt[6],title:"".concat(t," page \uc774\ub3d9")},a?r.a.createElement("img",{className:bt[7],src:a,alt:t}):r.a.createElement("div",{className:bt[8]},t[0])))))};n(81);var mt=function(){var e=re().pageEditor;return r.a.createElement("div",{className:"user-profile flex-none w-full whitespace-nowrap border-b mb-12"},e?r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,{penName:e.penName,userPhoto:e.userPhoto,bio:e.bio})):r.a.createElement("div",null))};var kt=function(e){var t=e.pageEditor,n=e.pageList;return r.a.createElement("div",{className:"page-list flex-1 overflow-auto pt-1"},r.a.createElement("div",{className:"pl-4 text-base font-semibold"},"Page list"),r.a.createElement("ul",{className:"list p-4 font-semibold text-sm text-gray-600"},n?n.map((function(e,n){return r.a.createElement("li",{key:n,className:"h-auto flex justify-between px-2"},r.a.createElement("div",{className:"h-8 leading-8 w-5/6 flex-none"},r.a.createElement(o.b,{to:"/bklog/".concat(t.penName,"/").concat(e.pageId)}," ".concat(e.pageTitle))),r.a.createElement("button",{className:"h-8 pb-2 w-8 outline-none click:outline-none text-gray-300 hover:text-gray-600"},r.a.createElement(z.a,{icon:q.e})))})):r.a.createElement("li",null)),r.a.createElement("ul",null,r.a.createElement("li",null)))};n(82);var ht=function(){var e=re().pageState;return r.a.createElement("div",{className:d()("sidebar h-full flex-none gnb-box overflow-hidden",{off:!e.toggle})},r.a.createElement("div",{className:"h-full py-2 pl-2"},r.a.createElement("nav",{className:" h-full rounded-md shadow-md bg-white overflow-hidden relative flex flex-col"},r.a.createElement(mt,null),r.a.createElement(kt,{pageEditor:e.pageEditor,pageList:e.pageList}))))};var vt=function(){var e=Object(a.useState)(1),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Fe(),o=l.state,s=l.initBlock,u=l.onAddBlock,p=l.onCommitBlock,f=l.onChangeTextStyle,b=l.onSwitchBlock,g=l.onRevertBlock,m=Object(se.a)({timeout:3e3,onIdle:function(){console.log("last active",m()),o.stage[0]&&(console.log("commit"),p())},debounce:500}).getLastActiveTime,k=s[0]?s:null;return re().pageToggle,r.a.createElement("div",{className:"flex h-full relative overflow-auto"},r.a.createElement(ht,null),r.a.createElement("div",{className:d()("flex-auto w-full h-full py-2 pr-2 ml-2")},r.a.createElement("div",{className:"blocklog items-center overflow-auto w-full notranslate text-gray-700 bg-white h-full rounded-md shadow-md"},r.a.createElement("div",{className:"cover mb-8"}),r.a.createElement("div",{className:"m-auto h-full block-container"},k?k.map((function(e){return r.a.createElement(ft,{blockData:e,key:e.id})})):r.a.createElement("div",null,'""'),k.length<=1?r.a.createElement("div",{className:"bk-zone"},r.a.createElement("div",{className:"bk-block",placeholder:"\uc785\ub825\ud574\uc8fc\uc138\uc694...",onFocus:function(){return u()},onClick:function(){return u()},contentEditable:"true"})):null,r.a.createElement("button",{onClick:function(){u(void 0,void 0,{index:0,id:"d5cc2725-97ec-494b-bc80-c16f96379e61",type:"text",parentBlockId:null,preBlockId:null,nextBlockId:null,property:{type:"BKlog-h1",styles:{color:null,backgroundColor:null},contents:[["\ube14\ub85d 1\uc785\ub2c8\ub2e4."],["\uc800",[["b"],["fc","#c0f"],["bc","#000"],["i"],["a","https://www.naver.com"]]],["\ub294 ",[["i"]]],["\ud669\uc900\ud76c",[["b"]]],[" \uc785\ub2c8\ub2e4.",[["fc","#f00"]]]]},children:["2453d55f-66f0-4ad0-b796-0dbcd8d82ce8"]})}},"\ube14\ub7ed \ucd94\uac00"),r.a.createElement("button",{onClick:function(){f(1,["bc","#fc0"],2,10,"color")}},"\uc2a4\ud0c0\uc77c \ucd94\uac00"),r.a.createElement("button",{onClick:function(){b(o.blocks[3].id,o.blocks[7].id,!1),c(n+1)}},"\uc2a4\uc704\uce6d"),r.a.createElement("button",{onClick:function(){g()}},"\ub418\ub3cc\ub9ac\uae30")))))};var yt=function(e){var t=e.match,n=Y().onCheckToken;return console.log(t.params.id,t),Object(a.useEffect)((function(){n()}),[]),r.a.createElement("div",{className:d()("bk-page","h-full","overflow-scroll")},r.a.createElement(vt,null))};function xt(e){var t=e.node,n=e.addNode,c=t.id,l=t.type,o=t.content,s=Object(a.useState)(!1),u=Object(i.a)(s,2),d=u[0],p=u[1];return r.a.createElement("div",{className:l,"data-id":c,contentEditable:d,onKeyPress:function(e){"Enter"===e.key&&(p(!1),n(e))},onClick:function(){p(!0)}},o)}var Et=function(){var e=Object(a.useState)([{type:"text",content:"asdsd",id:"123"}]),t=Object(i.a)(e,2),n=t[0],c=t[1],l=function(e){if(console.log(e.key),"Enter"===e.key){var t=n.concat();t.push({type:"text",content:"asdsd",id:"123"}),console.log(t),c(t)}};return r.a.createElement("div",null,n?n.map((function(e,t){return r.a.createElement(xt,{node:e,key:t,addNode:l})})):"Loading...",r.a.createElement("textarea",{onKeyPress:l}))};var It=function(e){var t=e.className,n=e.penName,a=e.userPhoto,c=e.onClick;return r.a.createElement("button",{onClick:c,className:"".concat(t," max-w-xs rounded-xl flex items-center text-sm py-1 px-2"),id:"user-menu"},r.a.createElement("span",{className:"sr-only"},n),a?r.a.createElement("img",{className:"h-8 w-8 rounded-full",src:a,alt:n}):r.a.createElement("div",{className:"h-8 w-8 rounded-full bg-blue-400 leading-8"},n[0]),r.a.createElement("span",{className:"ml-4"},n))};var Ot=function(){var e=le(),t=e.baseState.dark,n=e.onChangeMode;return r.a.createElement("div",{className:"dark-mode-toggle"},r.a.createElement("button",{onClick:function(){n()},className:d()("mode-field hover:bg-yellow-300 transition-all bg-gray-200 dark:bg-gray-700 dark:hover:bg-indigo-900 w-16 h-8 rounded-full p-1 border-none","text-2xl leading-6 text-left text-white dark:text-gray-500 hover:text-yellow-50 dark:hover:text-yellow-300")},r.a.createElement("span",{className:"sr-only"},"Dark mode toggle"),r.a.createElement(z.a,{className:d()("transform transition-all",{"translate-x-8":t}),icon:t?q.d:q.b})))};var Nt="hover:bg-purple-500 hover:text-white px-3 py-2 rounded-md text-sm font-medium";var Bt=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],l=re(),s=l.pageToggle,u=l.onChangeToggle,p=Y(),f=p.authState,b=f.loading,g=f.user,m=p.onSignOutUser;return r.a.createElement("nav",{className:"bg-white dark:bg-black absolute left-0 top-0 z-10 shadow w-full"},r.a.createElement("div",{className:"w-full pr-4 pl-1"},r.a.createElement("div",{className:"flex items-center justify-between h-14"},r.a.createElement("div",{className:"hidden md:block"},r.a.createElement("div",{className:"flex items-center space-x-4"},r.a.createElement("div",{className:"flex-shrink-0"},r.a.createElement("button",{className:d()("w-12 h-12 text-xl rounded",{"text-white bg-purple-500 shadow":s},{"text-gray-500 hover:text-purple-500":!s}),onClick:function(){u()}},r.a.createElement(z.a,{icon:q.a}))),r.a.createElement("div",{className:"ml-0 relative"},r.a.createElement("div",null,g?r.a.createElement(It,{className:d()({"hover:bg-purple-500 hover:text-white outline-none":n}),userPhoto:g.userPhoto,penName:g.penName,onClick:function(){c(!n)}}):b?r.a.createElement("button",{className:"max-w-xs rounded-full flex items-center text-sm",id:"user-menu","aria-haspopup":"true"},r.a.createElement("span",{className:"sr-only"}),r.a.createElement("div",{className:"h-8 w-8 rounded-full leading-8 bg-gray-200"})):r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"hidden md:block"},r.a.createElement("div",{className:"flex items-baseline space-x-4 text-gray-700 dark:text-gray-100"},r.a.createElement(o.b,{className:Nt,to:"/auth/sign-in"},"Sign In"),r.a.createElement(o.b,{className:Nt,to:"/auth/sign-up"},"Sign up"))))),n&&g?r.a.createElement("div",{onMouseLeave:function(e){c(!1)},className:"origin-top-right absolute left-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"},r.a.createElement(o.b,{to:"/bklog/".concat(g.penName),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},"My Page"),r.a.createElement("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem"},"View Profile"),r.a.createElement("button",{className:"block text-left w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:function(){m()}}," Sign out ")):null),r.a.createElement("div",{className:"hidden md:block"},r.a.createElement("div",{className:"flex items-baseline space-x-4 text-gray-700 dark:text-gray-100"},r.a.createElement(o.b,{className:Nt,to:"/home"},"Home"))))),r.a.createElement("div",{className:"flex items-center"},r.a.createElement(Ot,null)))))};n(83);var wt=function(){var e=le().baseState.dark;return r.a.createElement("div",{className:d()("App w-full h-screen",{dark:e},{light:!e})},r.a.createElement("div",{className:"w-full h-full pt-14 bg-gray-100 dark:bg-gray-900 text-gray-700 dark:text-gray-100"},r.a.createElement(o.a,null,r.a.createElement(Bt,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0},r.a.createElement(s.a,{to:"/bklog"})),r.a.createElement(s.b,{path:"/home",component:oe}),r.a.createElement(s.b,{path:"/edit",component:Et}),r.a.createElement(s.b,{path:"/bklog",component:yt}),r.a.createElement(s.b,{path:"/auth",component:ce})))))},jt=n(17),Ct=n(9),St={dark:!1,error:null};var Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"base/CHANGE_DARK_MODE":return Object.assign({},e,{dark:!e.dark});case"base/SERVER_DISCONNECTED":return Object.assign({},e,{error:t.payload.error});default:return e}},Ut=function(){return{loading:!1,user:null,error:{signInUser:null,signUpUser:{emailValid:!1,passwordValid:!1,penNameValid:!1,emailUsed:!1,penNameUsed:!1},signOutUser:null}}};var _t=f.a.mark(Ht),Rt=f.a.mark(Yt);function Dt(e,t){var n="".concat(e,"_SUCCESS"),a="".concat(e,"_ERROR");return f.a.mark((function e(r){var c,l,o,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ct.b)(t,r.payload);case 3:if(c=e.sent,l=c.data?c.data:null,o=!!c.data&&c.data.success,s=c.data?c.data.error?c.data.error:null:c.error,l&&delete l.success,!o){e.next=13;break}return e.next=11,Object(Ct.c)({type:n,payload:l});case 11:e.next=25;break;case 13:if(!s.accessTokken){e.next=18;break}return e.next=16,Object(Ct.c)({type:L,payload:r});case 16:e.next=25;break;case 18:if(!l){e.next=23;break}return e.next=21,Object(Ct.c)({type:a,payload:l});case 21:e.next=25;break;case 23:return e.next=25,Object(Ct.c)({type:a,payload:{error:s}});case 25:e.next=33;break;case 27:return e.prev=27,e.t0=e.catch(0),e.next=31,Object(Ct.c)({type:P});case 31:return e.next=33,Object(Ct.c)({type:"base/SERVER_DISCONNECTED",payload:{error:e.t0}});case 33:case"end":return e.stop()}}),e,null,[[0,27]])}))}function At(){return(At=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("sign-in",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(){return(Lt=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("sign-out");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mt(){return(Mt=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("sign-up",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(){return(Pt=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("resign-in");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gt(){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(b.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("reissue-token");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ht(e){var t,n;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,console.log(e),a.next=4,Object(Ct.b)(Gt);case 4:if(t=a.sent,n=t.data?t.data:null,!(t.data?t.data.success:null)){a.next=14;break}if(console.log("success",e,n),!e.payload){a.next=12;break}return a.next=12,Object(Ct.c)({type:e.payload.type,payload:e.payload.payload});case 12:a.next=20;break;case 14:return console.log("error1",e),a.next=17,Object(Ct.c)({type:S,payload:{userInfo:null,error:null}});case 17:if(!e.payload){a.next=20;break}return a.next=20,Object(Ct.c)({type:"".concat(e.action.type,"_ERROR"),payload:{error:{auth:!0}}});case 20:a.next=30;break;case 22:return a.prev=22,a.t0=a.catch(0),console.log("error2",a.t0),a.next=27,Object(Ct.c)({type:"base/SERVER_DISCONNECTED",payload:{error:a.t0}});case 27:if(!e.payload){a.next=30;break}return a.next=30,Object(Ct.c)({type:"".concat(e.payload.type,"_ERROR"),payload:{error:a.t0}});case 30:case"end":return a.stop()}}),_t,null,[[0,22]])}var Kt=Dt(j,(function(e){return At.apply(this,arguments)})),Ft=Dt(T,(function(){return Lt.apply(this,arguments)})),Jt=Dt(N,(function(e){return Mt.apply(this,arguments)})),Xt=Dt(R,(function(){return Pt.apply(this,arguments)}));function Yt(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ct.d)(j,Kt);case 2:return e.next=4,Object(Ct.d)(T,Ft);case 4:return e.next=6,Object(Ct.d)(N,Jt);case 6:return e.next=8,Object(Ct.d)(R,Xt);case 8:return e.next=10,Object(Ct.d)(L,Ht);case 10:case"end":return e.stop()}}),Rt)}var zt=f.a.mark(qt);function qt(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ct.a)([Yt()]);case 2:case"end":return e.stop()}}),zt)}var Wt=Object(jt.c)({base:Tt,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,user:null,error:{signInUser:null,signUpUser:{emailValid:!1,passwordValid:!1,penNameValid:!1,emailUsed:!1,penNameUsed:!1},signOutUser:null}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object.assign({},Ut,{loading:!0,error:{signInUser:null,signUpUser:{emailValid:!1,passwordValid:!1,penNameValid:!1,emailUsed:!1,penNameUsed:!1},signOutUser:null}});case B:return Object.assign({},e,{loading:!1});case w:return Object.assign({},e,{loading:!1,error:Object.assign({},e.error,{signUpUser:t.payload.error})});case j:case R:return Object.assign({},Ut,{loading:!0,user:null,error:{signInUser:null,signUpUser:{emailValid:!1,passwordValid:!1,penNameValid:!1,emailUsed:!1,penNameUsed:!1},signOutUser:null}});case C:case S:case D:case A:console.log("aaa",t);var n=t.payload,a=n.userInfo,r=n.error;return Object.assign({},e,{loading:!1,user:a,error:Object.assign({},e.error,{signInUser:r})});case T:return{loading:!1,user:null,error:{signInUser:null,signUpUser:{emailValid:!1,passwordValid:!1,penNameValid:!1,emailUsed:!1,penNameUsed:!1},signOutUser:null}};case U:return Object.assign({},e,{loading:!1});case _:return Object.assign({},e,{loading:!1,error:Object.assign({},e.error,{signOut:"\uc11c\ubc84\uc640 \ud1b5\uc2e0\uc774 \ubd88\uc548\uc815\ud569\ub2c8\ub2e4."})});case P:return{loading:!1,user:null,error:{signInUser:null,signUpUser:{emailValid:!1,passwordValid:!1,penNameValid:!1,emailUsed:!1,penNameUsed:!1},signOutUser:null}};default:return console.log(e),e}},bklog:Ke,page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"page/CHANGE_TOGGLE":return Object.assign({},e,{toggle:void 0!==t.payload.toggle?t.payload:!e.toggle});case"page/CHANGE_PAGE_TITLE":var n=t.payload,a=n.title,r=n.pageId;return Object.assign({},e,{pageList:e.pageList.map((function(e){return e.pageId===r?Object.assign({},e,{pageTitle:a}):e}))});default:return console.log(e),e}}}),Qt=n(49),Zt=Object(Qt.a)(),$t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||jt.d,en=function(){var e=Object(jt.e)(Wt,$t(Object(jt.a)(Zt)));return Zt.run(qt),e}();var tn=function(){return r.a.createElement(g.a,{store:en},r.a.createElement(wt,null))};n(84);l.a.render(r.a.createElement(tn,null),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.e7b6f1b8.chunk.js.map